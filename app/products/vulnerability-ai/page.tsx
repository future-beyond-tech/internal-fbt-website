import Image from "next/image";
import Link from "next/link";
import Container from "@/components/layout/Container";
import TrackedCtaLink from "@/components/analytics/TrackedCtaLink";
import { defaultMetadata } from "@/lib/seo";
import VulnerabilityAiAnalytics from "./VulnerabilityAiAnalytics";
import VulnerabilityAiEarlyAccessForm from "./VulnerabilityAiEarlyAccessForm";

const problemStats = [
  {
    value: "100K+",
    text: "Average enterprise tracks 100K+ open CVEs across environments.",
    sourceLabel: "NVD CVE backlog trend",
    sourceHref: "https://nvd.nist.gov/general/nvd-dashboard",
  },
  {
    value: "70%",
    text: "Up to 70% of critical alerts are treated as false positives or low-context findings.",
    sourceLabel: "Alert fatigue reports",
    sourceHref: "https://www.ibm.com/reports/data-breach",
  },
  {
    value: "60+ days",
    text: "Mean time to patch high-severity issues can exceed 60 days.",
    sourceLabel: "Vulnerability remediation benchmarks",
    sourceHref: "https://www.tenable.com/cyber-exposure-studies",
  },
] as const;

const capabilities = [
  {
    icon: "ğŸ”",
    title: "Intelligent CVE Analysis",
    points: [
      "Multi-CVE correlation",
      "Exploitability prediction",
      "Business impact assessment",
      "Contextual risk beyond CVSS",
    ],
  },
  {
    icon: "ğŸ¯",
    title: "Risk Prioritization",
    points: [
      "Asset criticality weighting",
      "Environment-aware scoring",
      "Automated triage recommendations",
      "SLA-based urgency scoring",
    ],
  },
  {
    icon: "âš™ï¸",
    title: "DevSecOps Integration",
    points: [
      "CI/CD pipeline native",
      "GitHub, GitLab, Jenkins plugins",
      "Webhook notifications",
      "Jira ticket auto-creation",
    ],
  },
  {
    icon: "ğŸ“Š",
    title: "Executive Dashboard",
    points: [
      "Real-time risk posture",
      "Trend analysis",
      "SOC 2 and ISO 27001 mapping",
      "Board-ready reporting",
    ],
  },
  {
    icon: "ğŸ”",
    title: "Enterprise Security",
    points: [
      "SSO with SAML/OAuth2",
      "Role-based access control",
      "Immutable audit logs",
      "Tenant isolation by design",
    ],
  },
  {
    icon: "ğŸ¤–",
    title: "AI Automation",
    points: [
      "Natural language queries",
      "Remediation suggestions",
      "Threat intel correlation",
      "Continuous learning loops",
    ],
  },
] as const;

const tiers = [
  {
    label: "Basic",
    audience: "Growing Teams",
    items: [
      "1-5 applications",
      "Basic CVE analysis",
      "Risk scoring",
      "Standard dashboard",
      "API access",
    ],
  },
  {
    label: "Pro",
    audience: "Scale-Up Security",
    items: [
      "Unlimited assets",
      "AI contextual analysis",
      "CI/CD integration",
      "Custom risk models",
      "Priority support",
    ],
  },
  {
    label: "Enterprise",
    audience: "Global Organizations",
    items: [
      "Multi-tenant sub-accounts",
      "SSO (SAML/OAuth)",
      "Compliance reporting",
      "Custom AI training",
      "SLA guarantees",
      "Dedicated environment",
    ],
  },
] as const;

const differentiationRows = [
  ["CVE scanning", "Basic", "Advanced"],
  ["AI contextual risk", "No", "Core"],
  ["Business impact scoring", "Manual", "Automated"],
  ["Multi-CVE correlation", "Limited", "Intelligent"],
  ["Clean API architecture", "Legacy", "Modern"],
  ["Custom risk models", "No", "Enterprise-ready"],
  ["DevSecOps native", "Bolted on", "Built in"],
] as const;

const faqItems = [
  {
    q: "When will this be available?",
    a: "General availability is targeted for August 2026. Early access opens in Q1 2026.",
  },
  {
    q: "How does AI risk scoring work?",
    a: "We combine CVSS, exploitability signals, asset criticality, environment context, and historical remediation behavior to produce contextual risk scores.",
  },
  {
    q: "Is our data secure?",
    a: "Yes. The platform is built toward SOC 2 and ISO 27001-aligned controls with tenant isolation, encryption in transit and at rest, and immutable audit logs.",
  },
  {
    q: "Can we integrate with existing CI/CD?",
    a: "Yes. We support GitHub Actions, GitLab CI, Jenkins, Azure DevOps, and generic webhooks for custom workflows.",
  },
  {
    q: "What about on-premise deployment?",
    a: "Enterprise plans include dedicated cloud environments and on-premise options for regulated teams.",
  },
  {
    q: "How is this different from Snyk or Rapid7?",
    a: "They focus on scanning. We focus on contextual prioritization and actionability using an AI intelligence layer built for modern DevSecOps workflows.",
  },
] as const;

export const metadata = defaultMetadata(
  "Vulnerability Assessment AI | Security Intelligence Automation Platform",
  "AI-powered vulnerability prioritization for DevSecOps teams with contextual risk scoring, enterprise security controls, and modern architecture.",
  "/products/vulnerability-ai"
);

const vulnerabilityAiSchema = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      name: "FBT â€” Future Beyond Technology",
      url: "https://futurebeyondtech.com",
    },
    {
      "@type": "SoftwareApplication",
      name: "Vulnerability Assessment AI",
      applicationCategory: "SecurityApplication",
      operatingSystem: "Web",
      description:
        "AI-powered vulnerability assessment and contextual risk prioritization platform for DevSecOps teams.",
      publisher: {
        "@type": "Organization",
        name: "FBT â€” Future Beyond Technology",
      },
      url: "https://futurebeyondtech.com/products/vulnerability-ai",
    },
    {
      "@type": "Offer",
      name: "Vulnerability Assessment AI Early Access",
      price: "0",
      priceCurrency: "USD",
      availability: "https://schema.org/PreOrder",
      url: "https://futurebeyondtech.com/products/vulnerability-ai#early-access",
      description:
        "Early access program for security teams shaping the product roadmap before GA.",
    },
  ],
};

export default function VulnerabilityAiPage() {
  return (
    <article
      className="py-20 sm:py-24 lg:py-32"
      aria-labelledby="vulnerability-ai-heading"
    >
      <VulnerabilityAiAnalytics />
      <Container>
        <div className="mx-auto max-w-6xl space-y-20">
          <header className="grid gap-10 lg:grid-cols-[1.15fr_1fr] lg:items-center">
            <div>
              <p className="inline-flex rounded-full border border-amber-300 bg-amber-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-amber-800 dark:border-amber-700 dark:bg-amber-900/30 dark:text-amber-300">
                In Development â€¢ Release: August 2026
              </p>
              <h1
                id="vulnerability-ai-heading"
                className="mt-5 text-3xl font-semibold tracking-tight text-slate-900 dark:text-slate-50 sm:text-4xl lg:text-5xl"
              >
                AI That Understands Security Context
              </h1>
              <p className="mt-4 text-base leading-relaxed text-slate-600 dark:text-slate-400 sm:text-lg">
                Vulnerability assessment automation for teams drowning in CVE
                alerts. AI-powered prioritization based on your actual risk, not
                only static scores.
              </p>
              <div className="mt-7 flex flex-col gap-3 sm:flex-row">
                <Link
                  href="#early-access"
                  className="inline-flex min-h-[44px] items-center justify-center rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition-colors hover:bg-slate-800 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-200"
                >
                  Request Early Access
                </Link>
                <Link
                  href="#architecture-overview"
                  className="inline-flex min-h-[44px] items-center justify-center rounded-lg border border-slate-300 px-6 py-3 text-sm font-semibold text-slate-700 transition-colors hover:border-slate-400 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-300 dark:hover:border-slate-600 dark:hover:bg-slate-800"
                >
                  See Architecture Overview
                </Link>
              </div>
            </div>
            <div className="overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900">
              <Image
                src="/products/vulnerability-ai/dashboard-wireframe.svg"
                alt="Vulnerability Assessment AI dashboard wireframe"
                width={1400}
                height={900}
                className="h-auto w-full"
                priority
              />
            </div>
          </header>

          <section className="rounded-xl border border-slate-200 bg-slate-50 p-5 dark:border-slate-700 dark:bg-slate-800/50">
            <p className="text-sm text-slate-700 dark:text-slate-300">
              Also built by FBT:{" "}
              <Link
                href="/products/pg-management"
                className="font-semibold text-sky-700 underline decoration-sky-300 underline-offset-2 dark:text-sky-300"
              >
                PG Management SaaS
              </Link>{" "}
              and the{" "}
              <Link
                href="/products/compare"
                className="font-semibold text-sky-700 underline decoration-sky-300 underline-offset-2 dark:text-sky-300"
              >
                platform comparison
              </Link>
              .
            </p>
          </section>

          <section aria-labelledby="problem-heading" className="space-y-6">
            <h2
              id="problem-heading"
              className="text-2xl font-semibold text-slate-900 dark:text-slate-50 sm:text-3xl"
            >
              Security Teams Are Overwhelmed
            </h2>
            <div className="grid gap-5 md:grid-cols-3">
              {problemStats.map((stat) => (
                <article
                  key={stat.value}
                  className="rounded-xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900"
                >
                  <p className="text-2xl font-semibold text-slate-900 dark:text-slate-100">
                    {stat.value}
                  </p>
                  <p className="mt-2 text-sm text-slate-700 dark:text-slate-300">
                    {stat.text}
                  </p>
                  <a
                    href={stat.sourceHref}
                    target="_blank"
                    rel="noreferrer"
                    className="mt-3 inline-block text-xs font-medium text-sky-700 underline decoration-sky-300 underline-offset-2 dark:text-sky-300"
                  >
                    Source: {stat.sourceLabel}
                  </a>
                </article>
              ))}
            </div>
            <p className="text-sm leading-relaxed text-slate-700 dark:text-slate-300 sm:text-base">
              Current tools scan. They do not think. We built AI that
              understands context.
            </p>
          </section>

          <section aria-labelledby="capabilities-heading" className="space-y-6">
            <h2
              id="capabilities-heading"
              className="text-2xl font-semibold text-slate-900 dark:text-slate-50 sm:text-3xl"
            >
              What It Does
            </h2>
            <div className="grid gap-5 sm:grid-cols-2 lg:grid-cols-3">
              {capabilities.map((item) => (
                <article
                  key={item.title}
                  className="rounded-xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900"
                >
                  <h3 className="text-lg font-semibold text-slate-900 dark:text-slate-100">
                    <span className="mr-2" aria-hidden="true">
                      {item.icon}
                    </span>
                    {item.title}
                  </h3>
                  <ul className="mt-3 space-y-2 text-sm text-slate-700 dark:text-slate-300">
                    {item.points.map((point) => (
                      <li key={point}>{point}</li>
                    ))}
                  </ul>
                </article>
              ))}
            </div>
          </section>

          <section
            id="architecture-overview"
            aria-labelledby="architecture-heading"
            className="space-y-8"
          >
            <h2
              id="architecture-heading"
              className="text-2xl font-semibold text-slate-900 dark:text-slate-50 sm:text-3xl"
            >
              Built for Security, By Security Engineers
            </h2>

            <div className="grid gap-6 lg:grid-cols-[1.1fr_0.9fr]">
              <div className="space-y-6">
                <div className="overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900">
                  <Image
                    src="/products/vulnerability-ai/architecture-microservices.svg"
                    alt="Vulnerability AI microservices architecture diagram"
                    width={1400}
                    height={920}
                    className="h-auto w-full"
                    loading="lazy"
                    decoding="async"
                  />
                </div>
                <pre className="overflow-x-auto rounded-xl border border-slate-200 bg-slate-50 p-4 text-xs text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300 sm:text-sm">
{`Microservices Architecture

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           API Gateway               â”‚
â”‚     (Rate limiting, Auth, WAF)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼         â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚ Auth  â”‚ â”‚Tenant â”‚ â”‚Vuln   â”‚
â”‚Serviceâ”‚ â”‚Serviceâ”‚ â”‚Serviceâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   AI Processing     â”‚
    â”‚   (Python/Async)    â”‚
    â”‚   NVD + Custom Intelâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Reportingâ”‚       â”‚Billing  â”‚
â”‚Service  â”‚       â”‚Service  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`}
                </pre>
              </div>

              <div className="space-y-6">
                <section className="rounded-xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900">
                  <h3 className="text-base font-semibold text-slate-900 dark:text-slate-100 sm:text-lg">
                    Technical Stack
                  </h3>
                  <ul className="mt-3 space-y-2 text-sm text-slate-700 dark:text-slate-300">
                    <li>Backend: .NET 8, Clean Architecture, CQRS, MediatR</li>
                    <li>AI Layer: Python async, NVD integration, retry + caching</li>
                    <li>Database: PostgreSQL (tenant-isolated), Redis caching</li>
                    <li>Queue: RabbitMQ for CVE processing</li>
                    <li>Infrastructure: Kubernetes, private GHCR, Vault secrets</li>
                    <li>Observability: Prometheus, OpenTelemetry, structured logs</li>
                  </ul>
                </section>
                <section className="rounded-xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900">
                  <h3 className="text-base font-semibold text-slate-900 dark:text-slate-100 sm:text-lg">
                    Security Posture
                  </h3>
                  <ul className="mt-3 space-y-2 text-sm text-slate-700 dark:text-slate-300">
                    <li>- Zero Trust internal communication</li>
                    <li>- JWT with rotating refresh tokens</li>
                    <li>- Rate limiting per tenant</li>
                    <li>- Network segmentation + DDoS protection</li>
                    <li>- WAF in front of API</li>
                    <li>- Encrypted secrets with Vault</li>
                    <li>- Immutable audit logs</li>
                  </ul>
                </section>
              </div>
            </div>
          </section>

          <section aria-labelledby="development-status-heading" className="space-y-6">
            <h2
              id="development-status-heading"
              className="text-2xl font-semibold text-slate-900 dark:text-slate-50 sm:text-3xl"
            >
              Development Status
            </h2>
            <div className="overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900">
              <Image
                src="/products/vulnerability-ai/roadmap-timeline.svg"
                alt="Vulnerability Assessment AI roadmap timeline"
                width={1400}
                height={420}
                className="h-auto w-full"
                loading="lazy"
                decoding="async"
              />
            </div>
            <p className="text-sm leading-relaxed text-slate-700 dark:text-slate-300 sm:text-base">
              Current phase: core services development. Auth, tenant management,
              and vulnerability analysis services are operational. AI processing
              engine is in progress.
            </p>
          </section>

          <section aria-labelledby="tiers-heading" className="space-y-6">
            <h2
              id="tiers-heading"
              className="text-2xl font-semibold text-slate-900 dark:text-slate-50 sm:text-3xl"
            >
              Who It&apos;s For
            </h2>
            <div className="grid gap-5 md:grid-cols-3">
              {tiers.map((tier) => (
                <article
                  key={tier.label}
                  className="rounded-xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900"
                >
                  <p className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400">
                    {tier.label}
                  </p>
                  <h3 className="mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100">
                    {tier.audience}
                  </h3>
                  <ul className="mt-3 space-y-2 text-sm text-slate-700 dark:text-slate-300">
                    {tier.items.map((item) => (
                      <li key={item}>{item}</li>
                    ))}
                  </ul>
                </article>
              ))}
            </div>
          </section>

          <section id="early-access" aria-labelledby="early-access-heading">
            <div className="rounded-2xl border border-slate-200 bg-slate-50 p-6 dark:border-slate-700 dark:bg-slate-800/40 sm:p-8 lg:p-10">
              <h2
                id="early-access-heading"
                className="text-2xl font-semibold text-slate-900 dark:text-slate-50 sm:text-3xl"
              >
                Shape the Future of Security Automation
              </h2>
              <div className="mt-7 grid gap-6 lg:grid-cols-[1.1fr_0.9fr]">
                <VulnerabilityAiEarlyAccessForm />
                <div className="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900 sm:p-8">
                  <h3 className="text-base font-semibold text-slate-900 dark:text-slate-100 sm:text-lg">
                    Early access benefits
                  </h3>
                  <ul className="mt-4 space-y-3 text-sm text-slate-700 dark:text-slate-300 sm:text-base">
                    <li>âœ… 6 months free on GA release</li>
                    <li>âœ… Direct input on roadmap</li>
                    <li>âœ… White-glove onboarding</li>
                    <li>âœ… Lifetime founding customer pricing</li>
                    <li>âœ… Quarterly architecture reviews with FBT</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          <section aria-labelledby="differentiation-heading" className="space-y-6">
            <h2
              id="differentiation-heading"
              className="text-2xl font-semibold text-slate-900 dark:text-slate-50 sm:text-3xl"
            >
              Why Not Just Use Snyk or Tenable?
            </h2>
            <div className="overflow-x-auto rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900 sm:p-6">
              <table className="w-full min-w-[700px] text-left text-sm">
                <thead>
                  <tr className="border-b border-slate-200 dark:border-slate-700">
                    <th className="py-2 font-semibold text-slate-900 dark:text-slate-100">
                      Feature
                    </th>
                    <th className="py-2 font-semibold text-slate-900 dark:text-slate-100">
                      Legacy Tools
                    </th>
                    <th className="py-2 font-semibold text-slate-900 dark:text-slate-100">
                      FBT Vuln AI
                    </th>
                  </tr>
                </thead>
                <tbody className="text-slate-700 dark:text-slate-300">
                  {differentiationRows.map((row) => (
                    <tr
                      key={row[0]}
                      className="border-b border-slate-100 last:border-b-0 dark:border-slate-800"
                    >
                      <td className="py-2">{row[0]}</td>
                      <td className="py-2">{row[1]}</td>
                      <td className="py-2">{row[2]}</td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
            <p className="text-sm leading-relaxed text-slate-700 dark:text-slate-300 sm:text-base">
              We did not build another scanner. We built an intelligence layer
              that makes sense of the noise.
            </p>
          </section>

          <section aria-labelledby="faq-heading" className="space-y-5">
            <h2
              id="faq-heading"
              className="text-2xl font-semibold text-slate-900 dark:text-slate-50 sm:text-3xl"
            >
              FAQ
            </h2>
            <div className="space-y-3">
              {faqItems.map((item) => (
                <details
                  key={item.q}
                  className="rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900"
                >
                  <summary className="cursor-pointer text-sm font-semibold text-slate-900 dark:text-slate-100 sm:text-base">
                    {item.q}
                  </summary>
                  <p className="mt-3 text-sm leading-relaxed text-slate-700 dark:text-slate-300 sm:text-base">
                    {item.a}
                  </p>
                </details>
              ))}
            </div>
          </section>

          <section className="rounded-2xl border border-slate-200 bg-slate-900 px-6 py-10 text-center text-white dark:border-slate-700 dark:bg-slate-950 sm:px-8 sm:py-12">
            <h2 className="text-2xl font-semibold sm:text-3xl">
              Ready for Intelligent Security Automation?
            </h2>
            <p className="mt-3 text-sm text-slate-200 sm:text-base">
              Join 25+ security teams on the early access waitlist.
            </p>
            <div className="mt-6 flex flex-col justify-center gap-3 sm:flex-row">
              <Link
                href="#early-access"
                className="inline-flex min-h-[44px] items-center justify-center rounded-lg bg-white px-6 py-3 text-sm font-semibold text-slate-900 transition-colors hover:bg-slate-100"
              >
                Request Early Access
              </Link>
              <TrackedCtaLink
                href="/contact"
                eventName="hire_team_click"
                eventParams={{
                  source_page: "/products/vulnerability-ai",
                  cta_label: "Schedule Architecture Review",
                }}
                className="inline-flex min-h-[44px] items-center justify-center rounded-lg border border-slate-300 px-6 py-3 text-sm font-semibold text-white transition-colors hover:bg-white/10"
              >
                Schedule Architecture Review
              </TrackedCtaLink>
            </div>
          </section>
        </div>
      </Container>

      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(vulnerabilityAiSchema) }}
      />
    </article>
  );
}
